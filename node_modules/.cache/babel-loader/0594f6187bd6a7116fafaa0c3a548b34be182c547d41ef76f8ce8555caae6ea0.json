{"ast":null,"code":"import axios from\"axios\";import{API_BASE_URL,ENDPOINTS}from\"../constants/config\";const apiClient=axios.create({baseURL:API_BASE_URL,timeout:10000,headers:{\"Content-Type\":\"application/json\"}});// Log requests for debugging route issues\napiClient.interceptors.request.use(config=>{try{var _config$method;// eslint-disable-next-line no-console\nconsole.debug(\"API Request:\",(_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\"\".concat(config.baseURL).concat(config.url));}catch(e){}return config;});// Response interceptor for error handling\napiClient.interceptors.response.use(response=>response,error=>{var _error$response;console.error(\"API Error:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);return Promise.reject(error);});export const productService={getAll:()=>apiClient.get(ENDPOINTS.PRODUCTS),getById:id=>apiClient.get(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(id)),create:payload=>{// If payload is FormData (for file upload), don't override Content-Type\nif(payload instanceof FormData){return apiClient.post(ENDPOINTS.PRODUCTS,payload,{headers:{\"Content-Type\":\"multipart/form-data\"}});}// Otherwise, send as JSON\nreturn apiClient.post(ENDPOINTS.PRODUCTS,payload);},update:(id,payload)=>{// If payload is FormData (for file upload), don't override Content-Type\nif(payload instanceof FormData){return apiClient.put(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(id),payload,{headers:{\"Content-Type\":\"multipart/form-data\"}});}// Otherwise, send as JSON\nreturn apiClient.put(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(id),payload);},remove:id=>apiClient.delete(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(id)),// Product Images CRUD\nimages:{getAll:productId=>apiClient.get(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images\")),add:(productId,payload)=>{if(payload instanceof FormData){return apiClient.post(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images\"),payload,{headers:{\"Content-Type\":\"multipart/form-data\"}});}return apiClient.post(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images\"),payload);},update:(productId,imageId,payload)=>apiClient.put(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images/\").concat(imageId),payload),replace:(productId,imageId,payload)=>{if(payload instanceof FormData){return apiClient.put(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images/\").concat(imageId,\"/replace\"),payload,{headers:{\"Content-Type\":\"multipart/form-data\"}});}return apiClient.put(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images/\").concat(imageId,\"/replace\"),payload);},remove:(productId,imageId)=>apiClient.delete(\"\".concat(ENDPOINTS.PRODUCTS,\"/\").concat(productId,\"/images/\").concat(imageId))}};export const categoryService={getAll:()=>apiClient.get(ENDPOINTS.CATEGORIES),getById:id=>apiClient.get(\"\".concat(ENDPOINTS.CATEGORIES,\"/\").concat(id)),getBySlug:slug=>apiClient.get(\"\".concat(ENDPOINTS.CATEGORIES,\"/slug/\").concat(slug)),create:(payload,token)=>{// If payload is FormData (for file upload), set multipart headers\nif(payload instanceof FormData){return apiClient.post(ENDPOINTS.CATEGORIES,payload,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}});}// Otherwise, send as JSON\nreturn apiClient.post(ENDPOINTS.CATEGORIES,payload,{headers:{Authorization:\"Bearer \".concat(token)}});},update:(id,payload,token)=>{// If payload is FormData (for file upload), set multipart headers\nif(payload instanceof FormData){return apiClient.put(\"\".concat(ENDPOINTS.CATEGORIES,\"/\").concat(id),payload,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(token)}});}// Otherwise, send as JSON\nreturn apiClient.put(\"\".concat(ENDPOINTS.CATEGORIES,\"/\").concat(id),payload,{headers:{Authorization:\"Bearer \".concat(token)}});},remove:(id,token)=>apiClient.delete(\"\".concat(ENDPOINTS.CATEGORIES,\"/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}})};export const cartService={get:()=>apiClient.get(ENDPOINTS.CART),add:product=>apiClient.post(ENDPOINTS.CART,product),remove:productId=>apiClient.delete(\"\".concat(ENDPOINTS.CART,\"/\").concat(productId))};export default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","ENDPOINTS","apiClient","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","console","debug","method","toUpperCase","concat","url","e","response","error","_error$response","data","message","Promise","reject","productService","getAll","get","PRODUCTS","getById","id","payload","FormData","post","update","put","remove","delete","images","productId","add","imageId","replace","categoryService","CATEGORIES","getBySlug","slug","token","Authorization","cartService","CART","product"],"sources":["C:/Users/SR/Downloads/full_project/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_BASE_URL, ENDPOINTS } from \"../constants/config\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Log requests for debugging route issues\r\napiClient.interceptors.request.use((config) => {\r\n  try {\r\n    // eslint-disable-next-line no-console\r\n    console.debug(\"API Request:\", config.method?.toUpperCase(), `${config.baseURL}${config.url}`);\r\n  } catch (e) {}\r\n  return config;\r\n});\r\n\r\n// Response interceptor for error handling\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    console.error(\"API Error:\", error.response?.data || error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const productService = {\r\n  getAll: () => apiClient.get(ENDPOINTS.PRODUCTS),\r\n  getById: (id) => apiClient.get(`${ENDPOINTS.PRODUCTS}/${id}`),\r\n  create: (payload) => {\r\n    // If payload is FormData (for file upload), don't override Content-Type\r\n    if (payload instanceof FormData) {\r\n      return apiClient.post(ENDPOINTS.PRODUCTS, payload, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.post(ENDPOINTS.PRODUCTS, payload);\r\n  },\r\n  update: (id, payload) => {\r\n    // If payload is FormData (for file upload), don't override Content-Type\r\n    if (payload instanceof FormData) {\r\n      return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload);\r\n  },\r\n  remove: (id) => apiClient.delete(`${ENDPOINTS.PRODUCTS}/${id}`),\r\n\r\n  // Product Images CRUD\r\n  images: {\r\n    getAll: (productId) => apiClient.get(`${ENDPOINTS.PRODUCTS}/${productId}/images`),\r\n    add: (productId, payload) => {\r\n      if (payload instanceof FormData) {\r\n        return apiClient.post(`${ENDPOINTS.PRODUCTS}/${productId}/images`, payload, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        });\r\n      }\r\n      return apiClient.post(`${ENDPOINTS.PRODUCTS}/${productId}/images`, payload);\r\n    },\r\n    update: (productId, imageId, payload) => \r\n      apiClient.put(`${ENDPOINTS.PRODUCTS}/${productId}/images/${imageId}`, payload),\r\n    replace: (productId, imageId, payload) => {\r\n      if (payload instanceof FormData) {\r\n        return apiClient.put(`${ENDPOINTS.PRODUCTS}/${productId}/images/${imageId}/replace`, payload, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        });\r\n      }\r\n      return apiClient.put(`${ENDPOINTS.PRODUCTS}/${productId}/images/${imageId}/replace`, payload);\r\n    },\r\n    remove: (productId, imageId) => \r\n      apiClient.delete(`${ENDPOINTS.PRODUCTS}/${productId}/images/${imageId}`),\r\n  },\r\n};\r\n\r\nexport const categoryService = {\r\n  getAll: () => apiClient.get(ENDPOINTS.CATEGORIES),\r\n  getById: (id) => apiClient.get(`${ENDPOINTS.CATEGORIES}/${id}`),\r\n  getBySlug: (slug) => apiClient.get(`${ENDPOINTS.CATEGORIES}/slug/${slug}`),\r\n  create: (payload, token) => {\r\n    // If payload is FormData (for file upload), set multipart headers\r\n    if (payload instanceof FormData) {\r\n      return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\r\n        headers: { \r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}` \r\n        }\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n  },\r\n  update: (id, payload, token) => {\r\n    // If payload is FormData (for file upload), set multipart headers\r\n    if (payload instanceof FormData) {\r\n      return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\r\n        headers: { \r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}` \r\n        }\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n  },\r\n  remove: (id, token) => apiClient.delete(`${ENDPOINTS.CATEGORIES}/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  }),\r\n};\r\n\r\nexport const cartService = {\r\n  get: () => apiClient.get(ENDPOINTS.CART),\r\n  add: (product) => apiClient.post(ENDPOINTS.CART, product),\r\n  remove: (productId) => apiClient.delete(`${ENDPOINTS.CART}/${productId}`),\r\n};\r\n\r\nexport default apiClient;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}