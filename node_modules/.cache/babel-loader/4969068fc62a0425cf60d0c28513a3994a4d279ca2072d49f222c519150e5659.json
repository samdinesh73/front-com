{"ast":null,"code":"import _objectSpread from\"C:/Users/SR/OneDrive/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{productService,categoryService}from\"../../services/api\";import{Loader,X,Plus}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductUploadForm(){const[form,setForm]=useState({name:\"\",price:\"\",description:\"\",category_id:\"\"});const[categories,setCategories]=useState([]);const[imageFile,setImageFile]=useState(null);const[additionalImages,setAdditionalImages]=useState([]);const[loading,setLoading]=useState(false);const[categoriesLoading,setCategoriesLoading]=useState(false);const[message,setMessage]=useState(null);useEffect(()=>{fetchCategories();},[]);const fetchCategories=async()=>{try{setCategoriesLoading(true);const res=await categoryService.getAll();setCategories(res.data.categories);}catch(err){console.error(\"Error fetching categories:\",err);}finally{setCategoriesLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setForm(s=>_objectSpread(_objectSpread({},s),{},{[name]:value}));};const handleFileChange=e=>{const file=e.target.files[0];if(file){// Validate file type\nif(!file.type.startsWith(\"image/\")){setMessage({type:\"error\",text:\"Please select a valid image file.\"});return;}// Validate file size (max 5MB)\nif(file.size>5*1024*1024){setMessage({type:\"error\",text:\"Image size must be less than 5MB.\"});return;}setImageFile(file);setMessage(null);}};const handleAdditionalImageChange=e=>{const files=Array.from(e.target.files||[]);files.forEach(file=>{// Validate file type\nif(!file.type.startsWith(\"image/\")){setMessage({type:\"error\",text:\"All files must be valid image files.\"});return;}// Validate file size (max 5MB)\nif(file.size>5*1024*1024){setMessage({type:\"error\",text:\"Each image must be less than 5MB.\"});return;}const reader=new FileReader();reader.onload=event=>{setAdditionalImages(prev=>[...prev,{id:Date.now()+Math.random(),file:file,preview:event.target.result,angle:\"Angle \".concat(prev.length+1)}]);};reader.readAsDataURL(file);});// Clear the input\ne.target.value=\"\";};const removeAdditionalImage=id=>{setAdditionalImages(prev=>prev.filter(img=>img.id!==id));};const updateAngleDescription=(id,angle)=>{setAdditionalImages(prev=>prev.map(img=>img.id===id?_objectSpread(_objectSpread({},img),{},{angle}):img));};const handleSubmit=async e=>{e.preventDefault();setMessage(null);// Basic validation\nif(!form.name||!form.price){setMessage({type:\"error\",text:\"Please provide product name and price.\"});return;}try{setLoading(true);// Use FormData for multipart/form-data\nconst formData=new FormData();formData.append(\"name\",form.name);formData.append(\"price\",Number(form.price));formData.append(\"description\",form.description||\"\");if(form.category_id){formData.append(\"category_id\",form.category_id);}// Append main image file if selected\nif(imageFile){formData.append(\"image\",imageFile);}// Append additional images - use consistent naming\nadditionalImages.forEach((img,index)=>{formData.append('additional_images',img.file);formData.append(\"angle_\".concat(index),img.angle);});// Create product\nconst res=await productService.create(formData);setMessage({type:\"success\",text:\"Product uploaded successfully with all images!\"});setForm({name:\"\",price:\"\",description:\"\",category_id:\"\"});setImageFile(null);setAdditionalImages([]);// Reset file input\ne.target.reset();console.log(\"Created product:\",res.data);}catch(err){var _err$response,_err$response$data;console.error(err);setMessage({type:\"error\",text:((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Upload failed\"});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold mb-4\",children:\"Upload Product\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 rounded \".concat(message.type===\"success\"?\"bg-green-50 text-green-700\":\"bg-red-50 text-red-700\"),children:message.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\",placeholder:\"Product name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Price (INR) *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",value:form.price,onChange:handleChange,type:\"number\",step:\"0.01\",className:\"w-full border border-gray-300 rounded px-3 py-2\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Category\"}),categoriesLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-600\",children:[/*#__PURE__*/_jsx(Loader,{className:\"h-4 w-4 animate-spin\"}),\"Loading categories...\"]}):/*#__PURE__*/_jsxs(\"select\",{name:\"category_id\",value:form.category_id,onChange:handleChange,className:\"w-full border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category (optional)\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat.id,children:cat.name},cat.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Primary Product Image *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"w-full border border-gray-300 rounded px-3 py-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"This will be the main product image. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB.\"}),imageFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-600 mt-1\",children:[\"\\u2713 Selected: \",imageFile.name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5\"}),\"Product Images (Different Angles)\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:\"Upload multiple images showing different angles of your product (up to 10 images)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleAdditionalImageChange,className:\"w-full border border-gray-300 rounded px-3 py-2 mb-4\"}),additionalImages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-4\",children:additionalImages.map(img=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded border border-gray-200 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mb-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:img.preview,alt:\"preview\",className:\"w-full h-24 object-cover rounded\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeAdditionalImage(img.id),className:\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:img.angle,onChange:e=>updateAngleDescription(img.id,e.target.value),placeholder:\"e.g., Front, Side, Back\",className:\"w-full text-xs border border-gray-300 rounded px-2 py-1\"})]},img.id))}),additionalImages.length>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-3\",children:[\"Added \",additionalImages.length,\" image(s)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange,rows:4,className:\"w-full border border-gray-300 rounded px-3 py-2\",placeholder:\"Product description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:bg-gray-400\",children:loading?\"Uploading...\":\"Upload Product\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setForm({name:\"\",price:\"\",description:\"\",category_id:\"\"});setImageFile(null);setAdditionalImages([]);},className:\"px-4 py-2 border rounded hover:bg-gray-50\",children:\"Reset\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","productService","categoryService","Loader","X","Plus","jsx","_jsx","jsxs","_jsxs","ProductUploadForm","form","setForm","name","price","description","category_id","categories","setCategories","imageFile","setImageFile","additionalImages","setAdditionalImages","loading","setLoading","categoriesLoading","setCategoriesLoading","message","setMessage","fetchCategories","res","getAll","data","err","console","error","handleChange","e","value","target","s","_objectSpread","handleFileChange","file","files","type","startsWith","text","size","handleAdditionalImageChange","Array","from","forEach","reader","FileReader","onload","event","prev","id","Date","now","Math","random","preview","result","angle","concat","length","readAsDataURL","removeAdditionalImage","filter","img","updateAngleDescription","map","handleSubmit","preventDefault","formData","FormData","append","Number","index","create","reset","log","_err$response","_err$response$data","response","onSubmit","className","children","onChange","placeholder","step","cat","accept","multiple","src","alt","onClick","rows","disabled"],"sources":["C:/Users/SR/OneDrive/Desktop/frontend/src/components/admin/ProductUploadForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { productService, categoryService } from \"../../services/api\";\r\nimport { Loader, X, Plus } from \"lucide-react\";\r\n\r\nexport default function ProductUploadForm() {\r\n  const [form, setForm] = useState({ name: \"\", price: \"\", description: \"\", category_id: \"\" });\r\n  const [categories, setCategories] = useState([]);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [additionalImages, setAdditionalImages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [categoriesLoading, setCategoriesLoading] = useState(false);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setCategoriesLoading(true);\r\n      const res = await categoryService.getAll();\r\n      setCategories(res.data.categories);\r\n    } catch (err) {\r\n      console.error(\"Error fetching categories:\", err);\r\n    } finally {\r\n      setCategoriesLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((s) => ({ ...s, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      if (!file.type.startsWith(\"image/\")) {\r\n        setMessage({ type: \"error\", text: \"Please select a valid image file.\" });\r\n        return;\r\n      }\r\n      // Validate file size (max 5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setMessage({ type: \"error\", text: \"Image size must be less than 5MB.\" });\r\n        return;\r\n      }\r\n      setImageFile(file);\r\n      setMessage(null);\r\n    }\r\n  };\r\n\r\n  const handleAdditionalImageChange = (e) => {\r\n    const files = Array.from(e.target.files || []);\r\n    \r\n    files.forEach((file) => {\r\n      // Validate file type\r\n      if (!file.type.startsWith(\"image/\")) {\r\n        setMessage({ type: \"error\", text: \"All files must be valid image files.\" });\r\n        return;\r\n      }\r\n      // Validate file size (max 5MB)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setMessage({ type: \"error\", text: \"Each image must be less than 5MB.\" });\r\n        return;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        setAdditionalImages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now() + Math.random(),\r\n            file: file,\r\n            preview: event.target.result,\r\n            angle: `Angle ${prev.length + 1}`,\r\n          },\r\n        ]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n    \r\n    // Clear the input\r\n    e.target.value = \"\";\r\n  };\r\n\r\n  const removeAdditionalImage = (id) => {\r\n    setAdditionalImages((prev) => prev.filter((img) => img.id !== id));\r\n  };\r\n\r\n  const updateAngleDescription = (id, angle) => {\r\n    setAdditionalImages((prev) =>\r\n      prev.map((img) => (img.id === id ? { ...img, angle } : img))\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(null);\r\n\r\n    // Basic validation\r\n    if (!form.name || !form.price) {\r\n      setMessage({ type: \"error\", text: \"Please provide product name and price.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Use FormData for multipart/form-data\r\n      const formData = new FormData();\r\n      formData.append(\"name\", form.name);\r\n      formData.append(\"price\", Number(form.price));\r\n      formData.append(\"description\", form.description || \"\");\r\n      if (form.category_id) {\r\n        formData.append(\"category_id\", form.category_id);\r\n      }\r\n      \r\n      // Append main image file if selected\r\n      if (imageFile) {\r\n        formData.append(\"image\", imageFile);\r\n      }\r\n\r\n      // Append additional images - use consistent naming\r\n      additionalImages.forEach((img, index) => {\r\n        formData.append('additional_images', img.file);\r\n        formData.append(`angle_${index}`, img.angle);\r\n      });\r\n\r\n      // Create product\r\n      const res = await productService.create(formData);\r\n      setMessage({ type: \"success\", text: \"Product uploaded successfully with all images!\" });\r\n      setForm({ name: \"\", price: \"\", description: \"\", category_id: \"\" });\r\n      setImageFile(null);\r\n      setAdditionalImages([]);\r\n      // Reset file input\r\n      e.target.reset();\r\n      console.log(\"Created product:\", res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage({ type: \"error\", text: err.response?.data?.error || \"Upload failed\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-card\">\r\n      <h3 className=\"text-2xl font-semibold mb-4\">Upload Product</h3>\r\n\r\n      {message && (\r\n        <div className={`mb-4 p-3 rounded ${message.type === \"success\" ? \"bg-green-50 text-green-700\" : \"bg-red-50 text-red-700\"}`}>\r\n          {message.text}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium mb-1\">Name *</label>\r\n        <input name=\"name\" value={form.name} onChange={handleChange} className=\"w-full border border-gray-300 rounded px-3 py-2\" placeholder=\"Product name\" />\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium mb-1\">Price (INR) *</label>\r\n        <input name=\"price\" value={form.price} onChange={handleChange} type=\"number\" step=\"0.01\" className=\"w-full border border-gray-300 rounded px-3 py-2\" placeholder=\"0.00\" />\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium mb-1\">Category</label>\r\n        {categoriesLoading ? (\r\n          <div className=\"flex items-center gap-2 text-gray-600\">\r\n            <Loader className=\"h-4 w-4 animate-spin\" />\r\n            Loading categories...\r\n          </div>\r\n        ) : (\r\n          <select\r\n            name=\"category_id\"\r\n            value={form.category_id}\r\n            onChange={handleChange}\r\n            className=\"w-full border border-gray-300 rounded px-3 py-2\"\r\n          >\r\n            <option value=\"\">Select a category (optional)</option>\r\n            {categories.map((cat) => (\r\n              <option key={cat.id} value={cat.id}>\r\n                {cat.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium mb-1\">Primary Product Image *</label>\r\n        <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} className=\"w-full border border-gray-300 rounded px-3 py-2\" />\r\n        <p className=\"text-xs text-gray-500 mt-1\">This will be the main product image. Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB.</p>\r\n        {imageFile && <p className=\"text-xs text-green-600 mt-1\">âœ“ Selected: {imageFile.name}</p>}\r\n      </div>\r\n\r\n      {/* Additional Images Section */}\r\n      <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n        <h4 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\r\n          <Plus className=\"h-5 w-5\" />\r\n          Product Images (Different Angles)\r\n        </h4>\r\n        <p className=\"text-sm text-gray-600 mb-3\">Upload multiple images showing different angles of your product (up to 10 images)</p>\r\n\r\n        <input\r\n          type=\"file\"\r\n          multiple\r\n          accept=\"image/*\"\r\n          onChange={handleAdditionalImageChange}\r\n          className=\"w-full border border-gray-300 rounded px-3 py-2 mb-4\"\r\n        />\r\n\r\n        {/* Display added additional images */}\r\n        {additionalImages.length > 0 && (\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\r\n            {additionalImages.map((img) => (\r\n              <div key={img.id} className=\"bg-white rounded border border-gray-200 p-2\">\r\n                <div className=\"relative mb-2\">\r\n                  <img src={img.preview} alt=\"preview\" className=\"w-full h-24 object-cover rounded\" />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeAdditionalImage(img.id)}\r\n                    className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  value={img.angle}\r\n                  onChange={(e) => updateAngleDescription(img.id, e.target.value)}\r\n                  placeholder=\"e.g., Front, Side, Back\"\r\n                  className=\"w-full text-xs border border-gray-300 rounded px-2 py-1\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {additionalImages.length > 0 && (\r\n          <p className=\"text-xs text-gray-600 mt-3\">Added {additionalImages.length} image(s)</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"block text-sm font-medium mb-1\">Description</label>\r\n        <textarea name=\"description\" value={form.description} onChange={handleChange} rows={4} className=\"w-full border border-gray-300 rounded px-3 py-2\" placeholder=\"Product description\" />\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-3\">\r\n        <button type=\"submit\" disabled={loading} className=\"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:bg-gray-400\">\r\n          {loading ? \"Uploading...\" : \"Upload Product\"}\r\n        </button>\r\n        <button type=\"button\" onClick={() => { setForm({ name: \"\", price: \"\", description: \"\", category_id: \"\" }); setImageFile(null); setAdditionalImages([]); }} className=\"px-4 py-2 border rounded hover:bg-gray-50\">\r\n          Reset\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}