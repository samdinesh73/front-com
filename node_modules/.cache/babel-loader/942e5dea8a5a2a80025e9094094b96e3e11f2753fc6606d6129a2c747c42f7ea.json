{"ast":null,"code":"import React,{useState}from\"react\";import{ChevronLeft,ChevronRight}from\"lucide-react\";import{getImageUrl}from\"../../utils/imageHelper\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProductImageGallery(_ref){let{mainImage,additionalImages=[]}=_ref;const[selectedImageIndex,setSelectedImageIndex]=useState(0);// Combine main image with additional images\nconst allImages=[{path:mainImage,angle:\"Main View\",type:\"main\"},...(additionalImages||[]).map(img=>({path:img.image_path,angle:img.angle_description||\"Product View\",type:\"additional\"}))];const currentImage=allImages[selectedImageIndex];const handlePrevious=()=>{setSelectedImageIndex(prev=>prev===0?allImages.length-1:prev-1);};const handleNext=()=>{setSelectedImageIndex(prev=>prev===allImages.length-1?0:prev+1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full bg-white rounded-lg sm:rounded-xl shadow-sm p-4 sm:p-8 border border-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square flex items-center justify-center rounded-lg overflow-hidden \",children:/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(currentImage.path),alt:currentImage.angle,className:\"w-full h-full object-contain\",onError:e=>{e.target.src=\"assets/img/placeholder.png\";}})}),allImages.length>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevious,className:\"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 p-2 bg-white text-gray-700 rounded-full shadow-md hover:bg-gray-50 transition-colors z-10\",\"aria-label\":\"Previous image\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-5 w-5 sm:h-6 sm:w-6\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNext,className:\"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 p-2 bg-white text-gray-700 rounded-full shadow-md hover:bg-gray-50 transition-colors z-10\",\"aria-label\":\"Next image\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"h-5 w-5 sm:h-6 sm:w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 right-4 px-3 py-1 bg-black bg-opacity-50 text-white text-xs sm:text-sm rounded-full font-medium\",children:[selectedImageIndex+1,\" / \",allImages.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 px-3 py-1 bg-blue-600 text-white text-xs sm:text-sm rounded-full font-medium\",children:currentImage.angle})]}),allImages.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto pb-2\",children:allImages.map((img,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedImageIndex(idx),className:\"flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-lg border-2 transition-all overflow-hidden \".concat(selectedImageIndex===idx?\"border-blue-600 shadow-md\":\"border-gray-200 hover:border-gray-300\"),\"aria-label\":\"View \".concat(img.angle),children:/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(img.path),alt:img.angle,className:\"w-full h-full object-cover\",onError:e=>{e.target.src=\"assets/img/placeholder.png\";}})},idx))}),allImages.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-xs sm:text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-900\",children:[allImages.length,\" image\",allImages.length!==1?\"s\":\"\"]}),\" available - Click arrows or thumbnails to view\"]})})]});}","map":{"version":3,"names":["React","useState","ChevronLeft","ChevronRight","getImageUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductImageGallery","_ref","mainImage","additionalImages","selectedImageIndex","setSelectedImageIndex","allImages","path","angle","type","map","img","image_path","angle_description","currentImage","handlePrevious","prev","length","handleNext","className","children","src","alt","onError","e","target","onClick","idx","concat"],"sources":["C:/Users/SR/Downloads/full_project/frontend/src/components/common/ProductImageGallery.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { getImageUrl } from \"../../utils/imageHelper\";\r\n\r\nexport default function ProductImageGallery({ mainImage, additionalImages = [] }) {\r\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\r\n\r\n  // Combine main image with additional images\r\n  const allImages = [\r\n    {\r\n      path: mainImage,\r\n      angle: \"Main View\",\r\n      type: \"main\",\r\n    },\r\n    ...(additionalImages || []).map((img) => ({\r\n      path: img.image_path,\r\n      angle: img.angle_description || \"Product View\",\r\n      type: \"additional\",\r\n    })),\r\n  ];\r\n\r\n  const currentImage = allImages[selectedImageIndex];\r\n\r\n  const handlePrevious = () => {\r\n    setSelectedImageIndex((prev) =>\r\n      prev === 0 ? allImages.length - 1 : prev - 1\r\n    );\r\n  };\r\n\r\n  const handleNext = () => {\r\n    setSelectedImageIndex((prev) =>\r\n      prev === allImages.length - 1 ? 0 : prev + 1\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      {/* Main Image Display */}\r\n      <div className=\"relative w-full bg-white rounded-lg sm:rounded-xl shadow-sm p-4 sm:p-8 border border-gray-100\">\r\n        <div className=\"aspect-square flex items-center justify-center rounded-lg overflow-hidden \">\r\n          <img\r\n            src={getImageUrl(currentImage.path)}\r\n            alt={currentImage.angle}\r\n            className=\"w-full h-full object-contain\"\r\n            onError={(e) => {\r\n              e.target.src = \"assets/img/placeholder.png\";\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Navigation Arrows - Only show if multiple images */}\r\n        {allImages.length > 1 && (\r\n          <>\r\n            <button\r\n              onClick={handlePrevious}\r\n              className=\"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 p-2 bg-white text-gray-700 rounded-full shadow-md hover:bg-gray-50 transition-colors z-10\"\r\n              aria-label=\"Previous image\"\r\n            >\r\n              <ChevronLeft className=\"h-5 w-5 sm:h-6 sm:w-6\" />\r\n            </button>\r\n\r\n            <button\r\n              onClick={handleNext}\r\n              className=\"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 p-2 bg-white text-gray-700 rounded-full shadow-md hover:bg-gray-50 transition-colors z-10\"\r\n              aria-label=\"Next image\"\r\n            >\r\n              <ChevronRight className=\"h-5 w-5 sm:h-6 sm:w-6\" />\r\n            </button>\r\n\r\n            {/* Image counter */}\r\n            <div className=\"absolute bottom-4 right-4 px-3 py-1 bg-black bg-opacity-50 text-white text-xs sm:text-sm rounded-full font-medium\">\r\n              {selectedImageIndex + 1} / {allImages.length}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Angle label */}\r\n        <div className=\"absolute top-4 left-4 px-3 py-1 bg-blue-600 text-white text-xs sm:text-sm rounded-full font-medium\">\r\n          {currentImage.angle}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Thumbnails - Only show if multiple images */}\r\n      {allImages.length > 1 && (\r\n        <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n          {allImages.map((img, idx) => (\r\n            <button\r\n              key={idx}\r\n              onClick={() => setSelectedImageIndex(idx)}\r\n              className={`flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-lg border-2 transition-all overflow-hidden ${\r\n                selectedImageIndex === idx\r\n                  ? \"border-blue-600 shadow-md\"\r\n                  : \"border-gray-200 hover:border-gray-300\"\r\n              }`}\r\n              aria-label={`View ${img.angle}`}\r\n            >\r\n              <img\r\n                src={getImageUrl(img.path)}\r\n                alt={img.angle}\r\n                className=\"w-full h-full object-cover\"\r\n                onError={(e) => {\r\n                  e.target.src = \"assets/img/placeholder.png\";\r\n                }}\r\n              />\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Image info */}\r\n      {allImages.length > 1 && (\r\n        <div className=\"text-center text-xs sm:text-sm text-gray-600\">\r\n          <p>\r\n            <span className=\"font-semibold text-gray-900\">\r\n              {allImages.length} image{allImages.length !== 1 ? \"s\" : \"\"}\r\n            </span>\r\n            {\" available - Click arrows or thumbnails to view\"}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}