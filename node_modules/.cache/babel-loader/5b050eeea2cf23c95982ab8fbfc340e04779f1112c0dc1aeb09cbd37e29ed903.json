{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{API_BASE_URL}from\"../../constants/config\";import ProductUploadForm from\"../../components/admin/ProductUploadForm\";import AdminProductList from\"../../components/admin/AdminProductList\";import EditProductForm from\"../../components/admin/EditProductForm\";import DeleteProductConfirm from\"../../components/admin/DeleteProductConfirm\";import UserList from\"../../components/admin/UserList\";import CategoryManager from\"../../components/admin/CategoryManager\";import{Plus,List,Edit2,Trash2,Package,Users,ShoppingCart,TrendingUp,Loader,AlertCircle,Tag}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[tab,setTab]=useState(\"dashboard\");const[selected,setSelected]=useState(null);const[orders,setOrders]=useState([]);const[ordersLoading,setOrdersLoading]=useState(false);const[ordersError,setOrdersError]=useState(null);const[fromDate,setFromDate]=useState(\"\");const[toDate,setToDate]=useState(\"\");const navigate=useNavigate();const[stats,setStats]=useState({totalProducts:0,totalOrders:0,totalUsers:0,revenue:0});useEffect(()=>{const fetchStats=async()=>{try{const[productsRes,ordersRes,usersRes]=await Promise.all([axios.get(\"\".concat(API_BASE_URL,\"/products\")),axios.get(\"\".concat(API_BASE_URL,\"/orders/admin/all-orders\")).catch(()=>({data:[]})),axios.get(\"\".concat(API_BASE_URL,\"/users/admin/all-users\")).catch(()=>({data:[]}))]);// Calculate revenue from orders\nconst totalRevenue=(ordersRes.data||[]).reduce((sum,order)=>{return sum+parseFloat(order.total_amount||order.amount||0);},0);setStats({totalProducts:productsRes.data.length||0,totalOrders:ordersRes.data.length||0,totalUsers:usersRes.data.length||0,revenue:totalRevenue});}catch(err){console.error(\"Error fetching stats:\",err);}};if(tab===\"dashboard\"){fetchStats();}},[tab]);useEffect(()=>{if(tab===\"orders\"){fetchOrders();}},[tab]);const fetchOrders=async function(){let from=arguments.length>0&&arguments[0]!==undefined?arguments[0]:fromDate;let to=arguments.length>1&&arguments[1]!==undefined?arguments[1]:toDate;setOrdersLoading(true);setOrdersError(null);try{// Build query string with optional date filters\nlet url=\"\".concat(API_BASE_URL,\"/orders/admin/all-orders\");const params=new URLSearchParams();if(from)params.append(\"fromDate\",from);if(to)params.append(\"toDate\",to);if(params.toString()){url+=\"?\"+params.toString();}const response=await axios.get(url);setOrders(response.data||[]);}catch(err){console.error(\"Error fetching orders:\",err);setOrdersError(\"Failed to load orders\");}finally{setOrdersLoading(false);}};const tabs=[{id:\"dashboard\",label:\"Dashboard\",icon:TrendingUp},{id:\"create\",label:\"Create Product\",icon:Plus},{id:\"list\",label:\"All Products\",icon:List},{id:\"categories\",label:\"Categories\",icon:Tag},{id:\"orders\",label:\"Orders\",icon:ShoppingCart},{id:\"users\",label:\"Users\",icon:Users},{id:\"edit\",label:\"Edit Product\",icon:Edit2},{id:\"delete\",label:\"Delete Product\",icon:Trash2}];return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 sticky top-0 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Package,{className:\"h-8 w-8 text-blue-600\"}),\"Admin Dashboard\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage your e-commerce store\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto py-4\",children:tabs.map(tabItem=>{const Icon=tabItem.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setTab(tabItem.id);setSelected(null);},className:\"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap \".concat(tab===tabItem.id?\"bg-blue-600 text-white shadow-lg\":\"bg-gray-100 text-gray-700 hover:bg-gray-200\"),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5\"}),tabItem.label]},tabItem.id);})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:[tab===\"dashboard\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium text-sm\",children:\"Total Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mt-2\",children:stats.totalProducts})]}),/*#__PURE__*/_jsx(Package,{className:\"h-12 w-12 text-blue-100\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600 mt-4\",children:\"\\u2713 Active products\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium text-sm\",children:\"Total Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mt-2\",children:stats.totalOrders})]}),/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-12 w-12 text-green-100\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600 mt-4\",children:\"\\u2713 All time orders\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium text-sm\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mt-2\",children:stats.totalUsers})]}),/*#__PURE__*/_jsx(Users,{className:\"h-12 w-12 text-purple-100\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-4\",children:\"Registered users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium text-sm\",children:\"Total Revenue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mt-2\",children:\"\\u20B90\"})]}),/*#__PURE__*/_jsx(TrendingUp,{className:\"h-12 w-12 text-orange-100\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-4\",children:\"This month\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-8 border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTab(\"create\"),className:\"p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-6 w-6 text-blue-600 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:\"Create New Product\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Add a new product to your store\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTab(\"list\"),className:\"p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(List,{className:\"h-6 w-6 text-green-600 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:\"View All Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Manage your product inventory\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTab(\"edit\"),className:\"p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(Edit2,{className:\"h-6 w-6 text-purple-600 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:\"Edit Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Update product details\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTab(\"delete\"),className:\"p-4 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"h-6 w-6 text-red-600 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:\"Delete Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Remove products from store\"})]})]})]})]}),tab!==\"dashboard\"&&/*#__PURE__*/_jsxs(\"div\",{className:tab===\"orders\"||tab===\"users\"||tab===\"categories\"?\"w-full\":\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:tab===\"orders\"||tab===\"users\"||tab===\"categories\"?\"w-full\":\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100\",children:[tab===\"create\"&&/*#__PURE__*/_jsx(ProductUploadForm,{}),(tab===\"list\"||tab===\"edit\"||tab===\"delete\")&&/*#__PURE__*/_jsx(AdminProductList,{onEdit:p=>{setSelected(p);setTab(\"edit\");},onDelete:p=>{setSelected(p);setTab(\"delete\");}}),tab===\"categories\"&&/*#__PURE__*/_jsx(CategoryManager,{}),tab===\"users\"&&/*#__PURE__*/_jsx(UserList,{}),tab===\"orders\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"All Orders\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Orders from authenticated and guest checkouts\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"From Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:fromDate,onChange:e=>setFromDate(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"To Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:toDate,onChange:e=>setToDate(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchOrders(fromDate,toDate),className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\",children:\"Filter\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFromDate(\"\");setToDate(\"\");fetchOrders(\"\",\"\");},className:\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium\",children:\"Clear\"})]})]})}),ordersLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(Loader,{className:\"h-8 w-8 text-blue-600 animate-spin\"})}),ordersError&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg mb-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700\",children:ordersError})]}),!ordersLoading&&orders.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-12 w-12 text-gray-300 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium\",children:\"No orders yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:\"Orders will appear here when customers place them\"})]}),!ordersLoading&&orders.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto border border-gray-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:orders.map(order=>{// Determine if this is a login_orders or orders table entry\nconst isAuthOrder=order.user_id!==undefined;const orderType=isAuthOrder?\"Authenticated\":\"Guest\";return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>navigate(\"/admin/order/\".concat(order.id)),className:\"hover:bg-blue-50 transition-colors cursor-pointer\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-sm font-medium text-gray-900\",children:[\"#\",order.id]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700\",children:order.full_name||order.customer_name||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 truncate max-w-xs\",children:order.email||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700\",children:order.phone||order.phone_number||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 truncate max-w-xs\",children:order.address||order.shipping_address||\"-\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-sm font-semibold text-gray-900\",children:[\"\\u20B9\",parseFloat(order.total_amount||order.amount||0).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium whitespace-nowrap \".concat(order.status===\"completed\"||order.status===\"success\"?\"bg-green-100 text-green-700\":order.status===\"pending\"||order.status===\"processing\"?\"bg-yellow-100 text-yellow-700\":order.status===\"cancelled\"||order.status===\"failed\"?\"bg-red-100 text-red-700\":\"bg-blue-100 text-blue-700\"),children:order.status||\"pending\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium whitespace-nowrap \".concat(isAuthOrder?\"bg-blue-100 text-blue-700\":\"bg-gray-100 text-gray-700\"),children:orderType})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 whitespace-nowrap\",children:new Date(order.created_at).toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'})})]},\"\".concat(orderType,\"-\").concat(order.id));})})]})}),!ordersLoading&&orders.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Showing \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:orders.length}),\" total orders\"]})})]})]})}),tab!==\"orders\"&&/*#__PURE__*/_jsxs(\"div\",{children:[tab===\"edit\"&&selected&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 sticky top-24\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Edit Product\"}),/*#__PURE__*/_jsx(EditProductForm,{product:selected,onSaved:updated=>{setSelected(updated);},onCancel:()=>setSelected(null)})]}),tab===\"delete\"&&selected&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl p-6 border border-gray-100 sticky top-24\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Delete Product\"}),/*#__PURE__*/_jsx(DeleteProductConfirm,{product:selected,onDeleted:()=>{setSelected(null);setTab(\"list\");},onCancel:()=>setSelected(null)})]}),!selected&&(tab===\"edit\"||tab===\"delete\")&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-xl p-6 border border-blue-200\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Select a product from the list to \",tab===\"edit\"?\"edit\":\"delete\",\" it\"]})})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","API_BASE_URL","ProductUploadForm","AdminProductList","EditProductForm","DeleteProductConfirm","UserList","CategoryManager","Plus","List","Edit2","Trash2","Package","Users","ShoppingCart","TrendingUp","Loader","AlertCircle","Tag","jsx","_jsx","jsxs","_jsxs","AdminDashboard","tab","setTab","selected","setSelected","orders","setOrders","ordersLoading","setOrdersLoading","ordersError","setOrdersError","fromDate","setFromDate","toDate","setToDate","navigate","stats","setStats","totalProducts","totalOrders","totalUsers","revenue","fetchStats","productsRes","ordersRes","usersRes","Promise","all","get","concat","catch","data","totalRevenue","reduce","sum","order","parseFloat","total_amount","amount","length","err","console","error","fetchOrders","from","arguments","undefined","to","url","params","URLSearchParams","append","toString","response","tabs","id","label","icon","className","children","map","tabItem","Icon","onClick","onEdit","p","onDelete","type","value","onChange","e","target","isAuthOrder","user_id","orderType","full_name","customer_name","email","phone","phone_number","address","shipping_address","toFixed","status","Date","created_at","toLocaleDateString","year","month","day","product","onSaved","updated","onCancel","onDeleted"],"sources":["C:/Users/SR/OneDrive/Desktop/frontend/src/pages/admin/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../constants/config\";\r\nimport ProductUploadForm from \"../../components/admin/ProductUploadForm\";\r\nimport AdminProductList from \"../../components/admin/AdminProductList\";\r\nimport EditProductForm from \"../../components/admin/EditProductForm\";\r\nimport DeleteProductConfirm from \"../../components/admin/DeleteProductConfirm\";\r\nimport UserList from \"../../components/admin/UserList\";\r\nimport CategoryManager from \"../../components/admin/CategoryManager\";\r\nimport { Plus, List, Edit2, Trash2, Package, Users, ShoppingCart, TrendingUp, Loader, AlertCircle, Tag } from \"lucide-react\";\r\n\r\nexport default function AdminDashboard() {\r\n  const [tab, setTab] = useState(\"dashboard\");\r\n  const [selected, setSelected] = useState(null);\r\n  const [orders, setOrders] = useState([]);\r\n  const [ordersLoading, setOrdersLoading] = useState(false);\r\n  const [ordersError, setOrdersError] = useState(null);\r\n  const [fromDate, setFromDate] = useState(\"\");\r\n  const [toDate, setToDate] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const [stats, setStats] = useState({\r\n    totalProducts: 0,\r\n    totalOrders: 0,\r\n    totalUsers: 0,\r\n    revenue: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const [productsRes, ordersRes, usersRes] = await Promise.all([\r\n          axios.get(`${API_BASE_URL}/products`),\r\n          axios.get(`${API_BASE_URL}/orders/admin/all-orders`).catch(() => ({ data: [] })),\r\n          axios.get(`${API_BASE_URL}/users/admin/all-users`).catch(() => ({ data: [] }))\r\n        ]);\r\n\r\n        // Calculate revenue from orders\r\n        const totalRevenue = (ordersRes.data || []).reduce((sum, order) => {\r\n          return sum + parseFloat(order.total_amount || order.amount || 0);\r\n        }, 0);\r\n\r\n        setStats({\r\n          totalProducts: productsRes.data.length || 0,\r\n          totalOrders: ordersRes.data.length || 0,\r\n          totalUsers: usersRes.data.length || 0,\r\n          revenue: totalRevenue\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error fetching stats:\", err);\r\n      }\r\n    };\r\n\r\n    if (tab === \"dashboard\") {\r\n      fetchStats();\r\n    }\r\n  }, [tab]);\r\n\r\n  useEffect(() => {\r\n    if (tab === \"orders\") {\r\n      fetchOrders();\r\n    }\r\n  }, [tab]);\r\n\r\n  const fetchOrders = async (from = fromDate, to = toDate) => {\r\n    setOrdersLoading(true);\r\n    setOrdersError(null);\r\n    try {\r\n      // Build query string with optional date filters\r\n      let url = `${API_BASE_URL}/orders/admin/all-orders`;\r\n      const params = new URLSearchParams();\r\n      if (from) params.append(\"fromDate\", from);\r\n      if (to) params.append(\"toDate\", to);\r\n      if (params.toString()) {\r\n        url += \"?\" + params.toString();\r\n      }\r\n\r\n      const response = await axios.get(url);\r\n      setOrders(response.data || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching orders:\", err);\r\n      setOrdersError(\"Failed to load orders\");\r\n    } finally {\r\n      setOrdersLoading(false);\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: \"dashboard\", label: \"Dashboard\", icon: TrendingUp },\r\n    { id: \"create\", label: \"Create Product\", icon: Plus },\r\n    { id: \"list\", label: \"All Products\", icon: List },\r\n    { id: \"categories\", label: \"Categories\", icon: Tag },\r\n    { id: \"orders\", label: \"Orders\", icon: ShoppingCart },\r\n    { id: \"users\", label: \"Users\", icon: Users },\r\n    { id: \"edit\", label: \"Edit Product\", icon: Edit2 },\r\n    { id: \"delete\", label: \"Delete Product\", icon: Trash2 }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-gray-200 sticky top-0 z-10\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center gap-3\">\r\n            <Package className=\"h-8 w-8 text-blue-600\" />\r\n            Admin Dashboard\r\n          </h1>\r\n          <p className=\"text-gray-600 mt-1\">Manage your e-commerce store</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"bg-white border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex gap-2 overflow-x-auto py-4\">\r\n            {tabs.map((tabItem) => {\r\n              const Icon = tabItem.icon;\r\n              return (\r\n                <button\r\n                  key={tabItem.id}\r\n                  onClick={() => {\r\n                    setTab(tabItem.id);\r\n                    setSelected(null);\r\n                  }}\r\n                  className={`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${\r\n                    tab === tabItem.id\r\n                      ? \"bg-blue-600 text-white shadow-lg\"\r\n                      : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n                >\r\n                  <Icon className=\"h-5 w-5\" />\r\n                  {tabItem.label}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        {/* Dashboard Tab */}\r\n        {tab === \"dashboard\" && (\r\n          <div>\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12\">\r\n              <div className=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 font-medium text-sm\">Total Products</p>\r\n                    <p className=\"text-4xl font-bold text-gray-900 mt-2\">{stats.totalProducts}</p>\r\n                  </div>\r\n                  <Package className=\"h-12 w-12 text-blue-100\" />\r\n                </div>\r\n                <p className=\"text-sm text-green-600 mt-4\">✓ Active products</p>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 font-medium text-sm\">Total Orders</p>\r\n                    <p className=\"text-4xl font-bold text-gray-900 mt-2\">{stats.totalOrders}</p>\r\n                  </div>\r\n                  <ShoppingCart className=\"h-12 w-12 text-green-100\" />\r\n                </div>\r\n                <p className=\"text-sm text-green-600 mt-4\">✓ All time orders</p>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 font-medium text-sm\">Total Users</p>\r\n                    <p className=\"text-4xl font-bold text-gray-900 mt-2\">{stats.totalUsers}</p>\r\n                  </div>\r\n                  <Users className=\"h-12 w-12 text-purple-100\" />\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mt-4\">Registered users</p>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-gray-600 font-medium text-sm\">Total Revenue</p>\r\n                    <p className=\"text-4xl font-bold text-gray-900 mt-2\">₹0</p>\r\n                  </div>\r\n                  <TrendingUp className=\"h-12 w-12 text-orange-100\" />\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mt-4\">This month</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Actions */}\r\n            <div className=\"bg-white rounded-xl p-8 border border-gray-100\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Quick Actions</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <button\r\n                  onClick={() => setTab(\"create\")}\r\n                  className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left\"\r\n                >\r\n                  <Plus className=\"h-6 w-6 text-blue-600 mb-2\" />\r\n                  <p className=\"font-semibold text-gray-900\">Create New Product</p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">Add a new product to your store</p>\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => setTab(\"list\")}\r\n                  className=\"p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors text-left\"\r\n                >\r\n                  <List className=\"h-6 w-6 text-green-600 mb-2\" />\r\n                  <p className=\"font-semibold text-gray-900\">View All Products</p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">Manage your product inventory</p>\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => setTab(\"edit\")}\r\n                  className=\"p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors text-left\"\r\n                >\r\n                  <Edit2 className=\"h-6 w-6 text-purple-600 mb-2\" />\r\n                  <p className=\"font-semibold text-gray-900\">Edit Products</p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">Update product details</p>\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => setTab(\"delete\")}\r\n                  className=\"p-4 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors text-left\"\r\n                >\r\n                  <Trash2 className=\"h-6 w-6 text-red-600 mb-2\" />\r\n                  <p className=\"font-semibold text-gray-900\">Delete Products</p>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">Remove products from store</p>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Other Tabs */}\r\n        {tab !== \"dashboard\" && (\r\n          <div className={(tab === \"orders\" || tab === \"users\" || tab === \"categories\") ? \"w-full\" : \"grid grid-cols-1 lg:grid-cols-3 gap-8\"}>\r\n            {/* Main Content */}\r\n            <div className={(tab === \"orders\" || tab === \"users\" || tab === \"categories\") ? \"w-full\" : \"lg:col-span-2\"}>\r\n              <div className=\"bg-white rounded-xl p-6 border border-gray-100\">\r\n                {tab === \"create\" && <ProductUploadForm />}\r\n                {(tab === \"list\" || tab === \"edit\" || tab === \"delete\") && (\r\n                  <AdminProductList\r\n                    onEdit={(p) => {\r\n                      setSelected(p);\r\n                      setTab(\"edit\");\r\n                    }}\r\n                    onDelete={(p) => {\r\n                      setSelected(p);\r\n                      setTab(\"delete\");\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {/* Categories Tab */}\r\n                {tab === \"categories\" && <CategoryManager />}\r\n\r\n                {/* Users Tab */}\r\n                {tab === \"users\" && <UserList />}\r\n\r\n                {/* Orders Tab */}\r\n                {tab === \"orders\" && (\r\n                  <div>\r\n                    <div className=\"mb-6\">\r\n                      <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">All Orders</h2>\r\n                      <p className=\"text-gray-600\">Orders from authenticated and guest checkouts</p>\r\n                    </div>\r\n\r\n                    {/* Date Range Filter */}\r\n                    <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">From Date</label>\r\n                          <input\r\n                            type=\"date\"\r\n                            value={fromDate}\r\n                            onChange={(e) => setFromDate(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">To Date</label>\r\n                          <input\r\n                            type=\"date\"\r\n                            value={toDate}\r\n                            onChange={(e) => setToDate(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                          <button\r\n                            onClick={() => fetchOrders(fromDate, toDate)}\r\n                            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n                          >\r\n                            Filter\r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              setFromDate(\"\");\r\n                              setToDate(\"\");\r\n                              fetchOrders(\"\", \"\");\r\n                            }}\r\n                            className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium\"\r\n                          >\r\n                            Clear\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {ordersLoading && (\r\n                      <div className=\"flex justify-center items-center py-12\">\r\n                        <Loader className=\"h-8 w-8 text-blue-600 animate-spin\" />\r\n                      </div>\r\n                    )}\r\n\r\n                    {ordersError && (\r\n                      <div className=\"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg mb-4\">\r\n                        <AlertCircle className=\"h-5 w-5 text-red-600\" />\r\n                        <p className=\"text-red-700\">{ordersError}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {!ordersLoading && orders.length === 0 && (\r\n                      <div className=\"text-center py-12\">\r\n                        <ShoppingCart className=\"h-12 w-12 text-gray-300 mx-auto mb-3\" />\r\n                        <p className=\"text-gray-600 font-medium\">No orders yet</p>\r\n                        <p className=\"text-gray-500 text-sm mt-1\">Orders will appear here when customers place them</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {!ordersLoading && orders.length > 0 && (\r\n                      <div className=\"overflow-x-auto border border-gray-200 rounded-lg\">\r\n                        <table className=\"w-full\">\r\n                          <thead>\r\n                            <tr className=\"bg-gray-50 border-b border-gray-200\">\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Order ID</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Customer Name</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Email</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Phone</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Address</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Amount</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Status</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Type</th>\r\n                              <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-900 whitespace-nowrap\">Date</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"divide-y divide-gray-200\">\r\n                            {orders.map((order) => {\r\n                              // Determine if this is a login_orders or orders table entry\r\n                              const isAuthOrder = order.user_id !== undefined;\r\n                              const orderType = isAuthOrder ? \"Authenticated\" : \"Guest\";\r\n                              \r\n                              return (\r\n                                <tr \r\n                                  key={`${orderType}-${order.id}`} \r\n                                  onClick={() => navigate(`/admin/order/${order.id}`)}\r\n                                  className=\"hover:bg-blue-50 transition-colors cursor-pointer\"\r\n                                >\r\n                                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">#{order.id}</td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                                    {order.full_name || order.customer_name || \"-\"}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-700 truncate max-w-xs\">\r\n                                    {order.email || \"-\"}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                                    {order.phone || order.phone_number || \"-\"}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-700 truncate max-w-xs\">\r\n                                    {order.address || order.shipping_address || \"-\"}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm font-semibold text-gray-900\">\r\n                                    ₹{parseFloat(order.total_amount || order.amount || 0).toFixed(2)}\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm\">\r\n                                    <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium whitespace-nowrap ${\r\n                                      order.status === \"completed\" || order.status === \"success\"\r\n                                        ? \"bg-green-100 text-green-700\" \r\n                                        : order.status === \"pending\" || order.status === \"processing\"\r\n                                        ? \"bg-yellow-100 text-yellow-700\"\r\n                                        : order.status === \"cancelled\" || order.status === \"failed\"\r\n                                        ? \"bg-red-100 text-red-700\"\r\n                                        : \"bg-blue-100 text-blue-700\"\r\n                                    }`}>\r\n                                      {order.status || \"pending\"}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm\">\r\n                                    <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium whitespace-nowrap ${\r\n                                      isAuthOrder \r\n                                        ? \"bg-blue-100 text-blue-700\" \r\n                                        : \"bg-gray-100 text-gray-700\"\r\n                                    }`}>\r\n                                      {orderType}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"px-4 py-3 text-sm text-gray-700 whitespace-nowrap\">\r\n                                    {new Date(order.created_at).toLocaleDateString('en-IN', {\r\n                                      year: 'numeric',\r\n                                      month: 'short',\r\n                                      day: 'numeric'\r\n                                    })}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    )}\r\n\r\n                    {!ordersLoading && orders.length > 0 && (\r\n                      <div className=\"mt-4 text-sm text-gray-600\">\r\n                        <p>Showing <span className=\"font-semibold text-gray-900\">{orders.length}</span> total orders</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Sidebar - Only show for product management tabs */}\r\n            {tab !== \"orders\" && (\r\n              <div>\r\n                {tab === \"edit\" && selected && (\r\n                  <div className=\"bg-white rounded-xl p-6 border border-gray-100 sticky top-24\">\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Edit Product</h3>\r\n                    <EditProductForm\r\n                      product={selected}\r\n                      onSaved={(updated) => {\r\n                        setSelected(updated);\r\n                      }}\r\n                      onCancel={() => setSelected(null)}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {tab === \"delete\" && selected && (\r\n                  <div className=\"bg-white rounded-xl p-6 border border-gray-100 sticky top-24\">\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Delete Product</h3>\r\n                    <DeleteProductConfirm\r\n                      product={selected}\r\n                      onDeleted={() => {\r\n                        setSelected(null);\r\n                        setTab(\"list\");\r\n                      }}\r\n                      onCancel={() => setSelected(null)}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {!selected && (tab === \"edit\" || tab === \"delete\") && (\r\n                  <div className=\"bg-blue-50 rounded-xl p-6 border border-blue-200\">\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Select a product from the list to {tab === \"edit\" ? \"edit\" : \"delete\"} it\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}