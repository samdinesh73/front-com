{"ast":null,"code":"import axios from \"axios\";\nimport { API_BASE_URL, ENDPOINTS } from \"../constants/config\";\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 10000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// Log requests for debugging route issues\napiClient.interceptors.request.use(config => {\n  try {\n    var _config$method;\n    // eslint-disable-next-line no-console\n    console.debug(\"API Request:\", (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(), `${config.baseURL}${config.url}`);\n  } catch (e) {}\n  return config;\n});\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(response => response, error => {\n  var _error$response;\n  console.error(\"API Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\nexport const productService = {\n  getAll: () => apiClient.get(ENDPOINTS.PRODUCTS),\n  getById: id => apiClient.get(`${ENDPOINTS.PRODUCTS}/${id}`),\n  create: payload => {\n    // If payload is FormData (for file upload), don't override Content-Type\n    if (payload instanceof FormData) {\n      return apiClient.post(ENDPOINTS.PRODUCTS, payload, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    }\n    // Otherwise, send as JSON\n    return apiClient.post(ENDPOINTS.PRODUCTS, payload);\n  },\n  update: (id, payload) => {\n    // If payload is FormData (for file upload), don't override Content-Type\n    if (payload instanceof FormData) {\n      return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n    }\n    // Otherwise, send as JSON\n    return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload);\n  },\n  remove: id => apiClient.delete(`${ENDPOINTS.PRODUCTS}/${id}`)\n};\nexport const categoryService = {\n  getAll: () => apiClient.get(ENDPOINTS.CATEGORIES),\n  getById: id => apiClient.get(`${ENDPOINTS.CATEGORIES}/${id}`),\n  getBySlug: slug => apiClient.get(`${ENDPOINTS.CATEGORIES}/slug/${slug}`),\n  create: (payload, token) => {\n    // If payload is FormData (for file upload), set multipart headers\n    if (payload instanceof FormData) {\n      return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n    // Otherwise, send as JSON\n    return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  update: (id, payload, token) => {\n    // If payload is FormData (for file upload), set multipart headers\n    if (payload instanceof FormData) {\n      return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n    }\n    // Otherwise, send as JSON\n    return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  },\n  remove: (id, token) => apiClient.delete(`${ENDPOINTS.CATEGORIES}/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n};\nexport const cartService = {\n  get: () => apiClient.get(ENDPOINTS.CART),\n  add: product => apiClient.post(ENDPOINTS.CART, product),\n  remove: productId => apiClient.delete(`${ENDPOINTS.CART}/${productId}`)\n};\nexport default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","ENDPOINTS","apiClient","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","console","debug","method","toUpperCase","url","e","response","error","_error$response","data","message","Promise","reject","productService","getAll","get","PRODUCTS","getById","id","payload","FormData","post","update","put","remove","delete","categoryService","CATEGORIES","getBySlug","slug","token","Authorization","cartService","CART","add","product","productId"],"sources":["C:/Users/SR/Downloads/full_project/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_BASE_URL, ENDPOINTS } from \"../constants/config\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Log requests for debugging route issues\r\napiClient.interceptors.request.use((config) => {\r\n  try {\r\n    // eslint-disable-next-line no-console\r\n    console.debug(\"API Request:\", config.method?.toUpperCase(), `${config.baseURL}${config.url}`);\r\n  } catch (e) {}\r\n  return config;\r\n});\r\n\r\n// Response interceptor for error handling\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    console.error(\"API Error:\", error.response?.data || error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const productService = {\r\n  getAll: () => apiClient.get(ENDPOINTS.PRODUCTS),\r\n  getById: (id) => apiClient.get(`${ENDPOINTS.PRODUCTS}/${id}`),\r\n  create: (payload) => {\r\n    // If payload is FormData (for file upload), don't override Content-Type\r\n    if (payload instanceof FormData) {\r\n      return apiClient.post(ENDPOINTS.PRODUCTS, payload, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.post(ENDPOINTS.PRODUCTS, payload);\r\n  },\r\n  update: (id, payload) => {\r\n    // If payload is FormData (for file upload), don't override Content-Type\r\n    if (payload instanceof FormData) {\r\n      return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.put(`${ENDPOINTS.PRODUCTS}/${id}`, payload);\r\n  },\r\n  remove: (id) => apiClient.delete(`${ENDPOINTS.PRODUCTS}/${id}`),\r\n};\r\n\r\nexport const categoryService = {\r\n  getAll: () => apiClient.get(ENDPOINTS.CATEGORIES),\r\n  getById: (id) => apiClient.get(`${ENDPOINTS.CATEGORIES}/${id}`),\r\n  getBySlug: (slug) => apiClient.get(`${ENDPOINTS.CATEGORIES}/slug/${slug}`),\r\n  create: (payload, token) => {\r\n    // If payload is FormData (for file upload), set multipart headers\r\n    if (payload instanceof FormData) {\r\n      return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\r\n        headers: { \r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}` \r\n        }\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.post(ENDPOINTS.CATEGORIES, payload, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n  },\r\n  update: (id, payload, token) => {\r\n    // If payload is FormData (for file upload), set multipart headers\r\n    if (payload instanceof FormData) {\r\n      return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\r\n        headers: { \r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}` \r\n        }\r\n      });\r\n    }\r\n    // Otherwise, send as JSON\r\n    return apiClient.put(`${ENDPOINTS.CATEGORIES}/${id}`, payload, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n  },\r\n  remove: (id, token) => apiClient.delete(`${ENDPOINTS.CATEGORIES}/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  }),\r\n};\r\n\r\nexport const cartService = {\r\n  get: () => apiClient.get(ENDPOINTS.CART),\r\n  add: (product) => apiClient.post(ENDPOINTS.CART, product),\r\n  remove: (productId) => apiClient.delete(`${ENDPOINTS.CART}/${productId}`),\r\n};\r\n\r\nexport default apiClient;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}